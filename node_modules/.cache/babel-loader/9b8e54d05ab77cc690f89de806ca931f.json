{"ast":null,"code":"import _regeneratorRuntime from\"/Users/vd/Desktop/bandsintown/bandsintown/bandistown/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/vd/Desktop/bandsintown/bandsintown/bandistown/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/vd/Desktop/bandsintown/bandsintown/bandistown/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/vd/Desktop/bandsintown/bandsintown/bandistown/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/vd/Desktop/bandsintown/bandsintown/bandistown/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/vd/Desktop/bandsintown/bandsintown/bandistown/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/vd/Desktop/bandsintown/bandsintown/bandistown/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import Navbar from\"./components/Navbar\";import GetValue from\"./components/GetValue\";import Layout from\"./components/Layout\";import ErrorPage from\"./components/ErrorPage\";import{apiEndPoint}from\"./config\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.getDetails=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(fieldValue){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(apiEndPoint+\"/artists/\"+fieldValue+\"?app_id=app_id\").then(function(stream){return stream.json();}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(details){var events;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(details!==\"\")){_context.next=7;break;}_context.next=3;return fetch(apiEndPoint+\"/artists/\"+fieldValue+\"/events?app_id=app_id\").then(function(stream){return stream.json();}).then(function(data){return data;});case 3:events=_context.sent;_this.setState({details:details,events:events});_context.next=8;break;case 7:_this.setState({details:details});case 8:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref2.apply(this,arguments);};}());case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={details:null,events:[]};return _this;}_createClass(App,[{key:\"render\",value:function render(){// console.log(this.state.details);\n// console.log(this.state.events);\nreturn React.createElement(React.Fragment,null,React.createElement(Navbar,null),React.createElement(GetValue,{onFetch:this.getDetails}),this.state.details&&React.createElement(Layout,{artistInfo:this.state.details,artistEvents:this.state.events}),this.state.details===\"\"&&React.createElement(ErrorPage,null));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/vd/Desktop/bandsintown/bandsintown/bandistown/src/App.js"],"names":["React","Navbar","GetValue","Layout","ErrorPage","apiEndPoint","App","props","getDetails","fieldValue","fetch","then","stream","json","details","data","events","setState","state","Component"],"mappings":"47BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,OAASC,WAAT,KAA4B,UAA5B,C,GAEMC,CAAAA,G,yEACJ,aAAYC,KAAZ,CAAmB,qCACjB,qEAAMA,KAAN,GADiB,MAQnBC,UARmB,0FAQN,kBAAMC,UAAN,6IACLC,CAAAA,KAAK,CAACL,WAAW,CAAG,WAAd,CAA4BI,UAA5B,CAAyC,gBAA1C,CAAL,CACHE,IADG,CACE,SAAAC,MAAM,QAAIA,CAAAA,MAAM,CAACC,IAAP,EAAJ,EADR,EAEHF,IAFG,2FAEE,iBAAMG,OAAN,kIACAA,OAAO,GAAK,EADZ,gDAEmBJ,CAAAA,KAAK,CACxBL,WAAW,CAAG,WAAd,CAA4BI,UAA5B,CAAyC,uBADjB,CAAL,CAGlBE,IAHkB,CAGb,SAAAC,MAAM,QAAIA,CAAAA,MAAM,CAACC,IAAP,EAAJ,EAHO,EAIlBF,IAJkB,CAIb,SAAAI,IAAI,QAAIA,CAAAA,IAAJ,EAJS,CAFnB,QAEIC,MAFJ,eAOF,MAAKC,QAAL,CAAc,CACZH,OAAO,CAAPA,OADY,CAEZE,MAAM,CAANA,MAFY,CAAd,EAPE,6BAYF,MAAKC,QAAL,CAAc,CACZH,OAAO,CAAPA,OADY,CAAd,EAZE,sDAFF,iEADK,yDARM,+DAEjB,MAAKI,KAAL,CAAa,CACXJ,OAAO,CAAE,IADE,CAEXE,MAAM,CAAE,EAFG,CAAb,CAFiB,aAMlB,C,uDAwBQ,CACP;AACA;AACA,MACE,qBAAC,KAAD,CAAO,QAAP,MACE,oBAAC,MAAD,MADF,CAEE,oBAAC,QAAD,EAAU,OAAO,CAAE,KAAKR,UAAxB,EAFF,CAGG,KAAKU,KAAL,CAAWJ,OAAX,EACC,oBAAC,MAAD,EACE,UAAU,CAAE,KAAKI,KAAL,CAAWJ,OADzB,CAEE,YAAY,CAAE,KAAKI,KAAL,CAAWF,MAF3B,EAJJ,CASG,KAAKE,KAAL,CAAWJ,OAAX,GAAuB,EAAvB,EAA6B,oBAAC,SAAD,MAThC,CADF,CAaD,C,iBA/Ced,KAAK,CAACmB,S,EAkDxB,cAAeb,CAAAA,GAAf","sourcesContent":["import React from \"react\";\nimport Navbar from \"./components/Navbar\";\nimport GetValue from \"./components/GetValue\";\nimport Layout from \"./components/Layout\";\nimport ErrorPage from \"./components/ErrorPage\";\nimport { apiEndPoint } from \"./config\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      details: null,\n      events: []\n    };\n  }\n\n  getDetails = async fieldValue => {\n    await fetch(apiEndPoint + \"/artists/\" + fieldValue + \"?app_id=app_id\")\n      .then(stream => stream.json())\n      .then(async details => {\n        if (details !== \"\") {\n          const events = await fetch(\n            apiEndPoint + \"/artists/\" + fieldValue + \"/events?app_id=app_id\"\n          )\n            .then(stream => stream.json())\n            .then(data => data);\n          this.setState({\n            details,\n            events\n          });\n        } else {\n          this.setState({\n            details\n          });\n        }\n      });\n  };\n\n  render() {\n    // console.log(this.state.details);\n    // console.log(this.state.events);\n    return (\n      <React.Fragment>\n        <Navbar />\n        <GetValue onFetch={this.getDetails} />\n        {this.state.details && (\n          <Layout\n            artistInfo={this.state.details}\n            artistEvents={this.state.events}\n          />\n        )}\n        {this.state.details === \"\" && <ErrorPage />}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}